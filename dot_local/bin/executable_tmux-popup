#!/usr/bin/env bash

PROGRAM="$1"

if ! command -v "$PROGRAM" >/dev/null 2>&1; then
  echo "Error: $PROGRAM not found"
  exit 1
fi

SESSION_NAME="zzz-$1"

if ! tmux has-session -t "$SESSION_NAME" 2>/dev/null; then
    tmux new-session -d -s "$SESSION_NAME" "$PROGRAM"
fi

tmux display-popup -w 95% -h 95% -E "tmux attach-session -t '$SESSION_NAME'"
